<!DOCTYPE html>
<html>
<head>
    <title>Example Form</title>

    <!-- Enlace a hoja de estilos -->
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <h1>Example Form</h1>
    <form action="submit.php" method="post">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="message">Message:</label>
        <textarea id="message" name="message" rows="5" cols="30" required></textarea><br><br>

        <div class="g-recaptcha" data-sitekey="6LddxrQpAAAAAARtTRDIk7w4QzZFTZ9dmB33RL7f"></div>

        <input type="submit" value="Submit"><br><br>
    </form>

    <script src="https://www.google.com/recaptcha/enterprise.js?render=site-publickey"></script>
    <script>
     <script>
      let button = document.getElementById('btn-send-form');
      button.addEventListener('click', function (event) {
        grecaptcha.enterprise.ready(function () {
          grecaptcha.enterprise.execute('site-publickey', { action: button.dataset.action }).then(function (token) {
            // Obtenemos el elemento y le agregamos el token
            let recaptcha = document.getElementById('g-recaptcha-response');
            recaptcha.value = token;

            // Hacemos el submit del formulario
            document.getElementById('contact-form').submit();
            event.preventDefault();
          });
        });
      })
    </script>
</body>
</html>
